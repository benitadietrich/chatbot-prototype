version: "2.0"

rules:

- rule: start the conversation
  steps:
  - intent: start
  - action: utter_start
  - action: utter_functions

- rule: Activate form
  steps:
  - intent: start_form
  - action: utter_go
  - action: general_form
  - active_loop: general_form

- rule: Submit form
  condition:
  - active_loop: general_form
  steps:
  - action: general_form
  - active_loop: null
  - slot_was_set:
    - requested_slot: null
  - action: utter_submit
  - action: action_result

- rule: Example of an unhappy path
  condition:

  - active_loop: general_form
  steps:

  - intent: query_benitapi
  - action: action_search_database
  - action: utter_back

  - action: general_form
  - active_loop: general_form

- rule: respond to questions
  steps:
  - intent: inform
  - action: utter_inform